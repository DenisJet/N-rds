const buttonMailto=document.querySelector(".button-mailto"),modalMailUs=document.querySelector(".modal-mail-us"),modalClose=modalMailUs.querySelector(".modal-close"),mailUsForm=modalMailUs.querySelector(".mail-us-form"),nameInput=modalMailUs.querySelector("[name=name]"),emailInput=modalMailUs.querySelector("[name=email]"),textmessageInput=modalMailUs.querySelector("[name=message]");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("nameInput"),storageEmail=localStorage.getItem("emailInput")}catch(e){isStorageSupport=!1}buttonMailto.addEventListener("click",function(e){e.preventDefault(),modalMailUs.classList.add("modal-show"),storageName&&storageEmail?(nameInput.value=storageName,emailInput.value=storageEmail,textmessageInput.focus()):nameInput.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),modalMailUs.classList.remove("modal-show"),modalMailUs.classList.remove("modal-error")}),mailUsForm.addEventListener("submit",function(e){nameInput.value&&emailInput.value?isStorageSupport&&(localStorage.setItem("name",nameInput.value),localStorage.setItem("email",emailInput.value)):(e.preventDefault(),modalMailUs.classList.remove("modal-error"),modalMailUs.offsetWidth=modalMailUs.offsetWidth,modalMailUs.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalMailUs.classList.contains("modal-show")&&(e.preventDefault(),modalMailUs.classList.remove("modal-show"),modalMailUs.classList.remove("modal-error"))});
